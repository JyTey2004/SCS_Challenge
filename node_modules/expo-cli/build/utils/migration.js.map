{"version":3,"file":"migration.js","names":["_config","data","require","_chalk","_interopRequireDefault","_getenv","_xdl","_TerminalLink","_log","obj","__esModule","default","warnAboutLocalCLI","projectRoot","localCmd","exp","getConfig","skipSDKVersionRequirement","useLocalCLI","boolish","Versions","gteSdkVersion","Log","warn","chalk","learnMore","warnMigration","toCommand"],"sources":["../../src/utils/migration.ts"],"sourcesContent":["import { getConfig } from '@expo/config';\nimport chalk from 'chalk';\nimport { boolish } from 'getenv';\nimport { Versions } from 'xdl';\n\nimport { learnMore } from '../commands/utils/TerminalLink';\nimport Log from '../log';\n\nexport function warnAboutLocalCLI(projectRoot: string, { localCmd }: { localCmd: string }) {\n  const { exp } = getConfig(projectRoot, { skipSDKVersionRequirement: true });\n  const useLocalCLI = boolish('EXPO_USE_LOCAL_CLI', true);\n  if (Versions.gteSdkVersion(exp, '46.0.0') && useLocalCLI) {\n    Log.warn(\n      chalk`\\nThis command is being executed with the global Expo CLI. ${learnMore(\n        'https://blog.expo.dev/the-new-expo-cli-f4250d8e3421'\n      )}\\nTo use the local CLI instead (recommended in SDK 46 and higher), run:\\n\\u203A {bold npx expo ${localCmd}}\\n`\n    );\n  }\n}\n\nexport function warnMigration(toCommand: string) {\n  Log.warn(chalk`\\nMigrate to using:\\n\\u203A {bold ${toCommand}}\\n`);\n}\n"],"mappings":";;;;;;;AAAA,SAAAA,QAAA;EAAA,MAAAC,IAAA,GAAAC,OAAA;EAAAF,OAAA,YAAAA,CAAA;IAAA,OAAAC,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAE,OAAA;EAAA,MAAAF,IAAA,GAAAG,sBAAA,CAAAF,OAAA;EAAAC,MAAA,YAAAA,CAAA;IAAA,OAAAF,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAI,QAAA;EAAA,MAAAJ,IAAA,GAAAC,OAAA;EAAAG,OAAA,YAAAA,CAAA;IAAA,OAAAJ,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAK,KAAA;EAAA,MAAAL,IAAA,GAAAC,OAAA;EAAAI,IAAA,YAAAA,CAAA;IAAA,OAAAL,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAEA,SAAAM,cAAA;EAAA,MAAAN,IAAA,GAAAC,OAAA;EAAAK,aAAA,YAAAA,CAAA;IAAA,OAAAN,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AACA,SAAAO,KAAA;EAAA,MAAAP,IAAA,GAAAG,sBAAA,CAAAF,OAAA;EAAAM,IAAA,YAAAA,CAAA;IAAA,OAAAP,IAAA;EAAA;EAAA,OAAAA,IAAA;AAAA;AAAyB,SAAAG,uBAAAK,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAElB,SAASG,iBAAiBA,CAACC,WAAmB,EAAE;EAAEC;AAA+B,CAAC,EAAE;EACzF,MAAM;IAAEC;EAAI,CAAC,GAAG,IAAAC,mBAAS,EAACH,WAAW,EAAE;IAAEI,yBAAyB,EAAE;EAAK,CAAC,CAAC;EAC3E,MAAMC,WAAW,GAAG,IAAAC,iBAAO,EAAC,oBAAoB,EAAE,IAAI,CAAC;EACvD,IAAIC,eAAQ,CAACC,aAAa,CAACN,GAAG,EAAE,QAAQ,CAAC,IAAIG,WAAW,EAAE;IACxDI,cAAG,CAACC,IAAI,CACN,IAAAC,gBAAK,CAAC,8DAA6D,IAAAC,yBAAS,EAC1E,qDACF,CAAE,kGAAiGX,QAAS,KAC9G,CAAC;EACH;AACF;AAEO,SAASY,aAAaA,CAACC,SAAiB,EAAE;EAC/CL,cAAG,CAACC,IAAI,CAAC,IAAAC,gBAAK,CAAC,qCAAoCG,SAAU,KAAI,CAAC;AACpE"}